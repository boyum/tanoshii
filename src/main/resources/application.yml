micronaut:
  application:
    name: tanoshii
  server:
    port: 8080
  router:
    static-resources:
      default:
        enabled: true
        mapping: /static/**
        paths:
          - file:src/main/resources/static
          - classpath:static
  http:
    client:
      read-timeout: 120s
      connect-timeout: 10s

# Thymeleaf: disable cache for development (instant template reload)
thymeleaf:
  cache: false

datasources:
  default:
    url: jdbc:sqlite:${user.dir}/database.sqlite
    driver-class-name: org.sqlite.JDBC
    dialect: SQLITE

flyway:
  datasources:
    default:
      enabled: true
      locations: classpath:db/migration

llm:
  # Provider: "ollama" or "gemini" (can be overridden by LLM_PROVIDER env var)
  provider: ${LLM_PROVIDER:`ollama`}

  # Base URL (can be overridden by LLM_BASE_URL env var)
  # Note: For Gemini with official SDK, base-url is not used
  base-url: ${LLM_BASE_URL:`http://localhost:11434`}

  # Model name (can be overridden by LLM_MODEL env var)
  # For Gemini: "gemini-2.5-flash" (stable), "gemini-2.5-pro", or "gemini-2.0-flash"
  model: ${LLM_MODEL:`qwen2.5:7b`}

  # API key (can be overridden by LLM_API_KEY or GOOGLE_AI_API_KEY env var)
  api-key: ${LLM_API_KEY:${GOOGLE_AI_API_KEY:``)}

audio:
  cache-dir: audio-cache
  voice: ja-JP-NanamiNeural
